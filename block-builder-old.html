<!DOCTYPE html>
<html>
    <head>
        <title>Minecraft Command Blockly</title>

        <script src="blockly/blockly_compressed.js"></script>
        <script src="ace/ace.js"></script>
        <script src="tools.js"></script>
        <script src="block_tools.js"></script>
        <script src="blockly_block_builder.js"></script>
        <script src="stacktrace-parser/stack-trace-parser.js"></script>

        <style>
            body {
                margin: 0;
            }

            #toolbox {
                display: none;
            }

            #editor {
                position: absolute;
                width: 55vw;
                height: 100vh;
            }

            #preview {
                position: absolute;
                left: 55vw;
                width: 45vw;
                height: 50vh;
            }

            #code {
                position: absolute;
                left: 55vw;
                top: 50vh;

                margin: 0;
                padding: 0;
                border-width: 1px;
                width: 45vw;
                height: 50vh;

                resize: none;
                white-space: nowrap;
            }

            #code-box {
                width: 100%;
                height: 100%;
            }

            #code-info {
                position: absolute;
                z-index: 1;
                left: 20%;
                top: 5%;

                padding: 4px;
                width: 60%;

                background-color: rgba(221, 221, 221, 0.7);
                color: #dd2222;
                font-family: Arial, Helvetica, sans-serif;
                font-weight: bold;

                transition: top 200ms, opacity 200ms;
            }
        </style>
    </head>

    <body onload="window.loaded()">
        <xml id="toolbox">
            <category name="Presets">
                <block type="builder_block_definition"><value name="name"><shadow type="builder_value_required"></shadow><block type="builder_value_text"><field name="text">builder_block_definition</field></block></value><value name="inputs"><shadow type="builder_value_inputs" id="q|1#Cyu[Q(}f#M`5YQlk" editable="false"><field name="style">AUTO</field></shadow><block type="builder_value_inputs"><field name="style">AUTO</field></block></value><value name="hue"><shadow type="builder_value_hue" id=")t]6x)-B-FMGo#GFO3@l" editable="false"><field name="hue">0</field></shadow><block type="builder_value_hue"><field name="hue">240</field></block></value><next><block type="builder_field_input"><value name="name"><shadow type="builder_value_required"></shadow><block type="builder_value_text"><field name="text">name</field></block></value><value name="type"><shadow type="builder_type" editable="false"><field name="type">-1</field></shadow></value><value name="align"><shadow type="builder_value_alignment" id=":(IR,Q9]Z3Wtd$,g4.~m" editable="false"><field name="align">LEFT</field></shadow><block type="builder_value_alignment"><field name="align">RIGHT</field></block></value><next><block type="builder_field_text"><value name="text"><shadow type="builder_value_required"></shadow><block type="builder_value_text"><field name="text">Block definition</field></block></value><next><block type="builder_field_input"><value name="name"><shadow type="builder_value_required"></shadow><block type="builder_value_text"><field name="text">inputs</field></block></value><value name="type"><shadow type="builder_type" editable="false"><field name="type">-1</field></shadow></value><value name="align"><shadow type="builder_value_alignment" id="v!uGhqE/dP}OZ,hWxvND" editable="false"><field name="align">LEFT</field></shadow><block type="builder_value_alignment"><field name="align">RIGHT</field></block></value><next><block type="builder_field_text"><value name="text"><shadow type="builder_value_required"></shadow><block type="builder_value_text"><field name="text">Input style</field></block></value><next><block type="builder_field_input"><value name="name"><shadow type="builder_value_required"></shadow><block type="builder_value_text"><field name="text">hue</field></block></value><value name="type"><shadow type="builder_type" editable="false"><field name="type">-1</field></shadow></value><value name="align"><shadow type="builder_value_alignment" id=".0v3xI=xXhb:!ttB?Po^" editable="false"><field name="align">LEFT</field></shadow><block type="builder_value_alignment"><field name="align">RIGHT</field></block></value><next><block type="builder_field_text"><value name="text"><shadow type="builder_value_required"></shadow><block type="builder_value_text"><field name="text">Color</field></block></value><next><block type="builder_connections_succeeding"><value name="type"><shadow type="builder_type" editable="false"><field name="type">-1</field></shadow></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block><block type="builder_block_definition" x="110" y="370"><value name="name"><shadow type="builder_value_required"></shadow><block type="builder_value_text"><field name="text">builder_value_text</field></block></value><value name="inputs"><shadow type="builder_value_inputs" id="a+TD~6Q6]7eQuF6C:GOA" editable="false"><field name="style">AUTO</field></shadow><block type="builder_value_inputs"><field name="style">AUTO</field></block></value><value name="hue"><shadow type="builder_value_hue" id="%GMHl@4aO_iTZ)V5,JZ!" editable="false"><field name="hue">0</field></shadow><block type="builder_value_hue"><field name="hue">300</field></block></value><next><block type="builder_field_text"><value name="text"><shadow type="builder_value_required"></shadow><block type="builder_value_text"><field name="text">"</field></block></value><next><block type="builder_field_text"><value name="text"><shadow type="builder_value_required"></shadow><block type="builder_value_text"><field name="text">heh</field></block></value><next><block type="builder_field_text"><value name="text"><shadow type="builder_value_required"></shadow><block type="builder_value_text"><field name="text">"</field></block></value><next><block type="builder_connections_output"><value name="type"><shadow type="builder_type" editable="false"><field name="type">-1</field></shadow></value></block></next></block></next></block></next></block></next></block>
            </category>
            <category name="Fields">
                <block type="builder_block_definition">
                    <value name="name">
                        <block type="builder_value_text">
                            <field name="text">block_name</field>
                        </block>
                        <shadow type="builder_value_required"></shadow>
                    </value>
                    <value name="inputs">
                        <shadow type="builder_value_inputs" editable="false">
                            <field name="style">AUTO</field>
                        </shadow>
                    </value>
                    <value name="hue">
                        <shadow type="builder_value_hue" editable="false"/>
                    </value>
                </block>
                <block type="builder_field_text">
                    <value name="text">
                        <block type="builder_value_text"></block>
                        <shadow type="builder_value_required"></shadow>
                    </value>
                </block>
                <block type="builder_field_input">
                    <value name="name">
                        <block type="builder_value_text"></block>
                        <shadow type="builder_value_required"></shadow>
                    </value>
                    <value name="type">
                        <shadow type="builder_type" editable="false"></shadow>
                    </value>
                    <value name="align">
                        <shadow type="builder_value_alignment" editable="false">
                            <field name="align">LEFT</field>
                        </shadow>
                    </value>
                </block>
                <block type="builder_field_statement">
                    <value name="name">
                        <block type="builder_value_text"></block>
                        <shadow type="builder_value_required"></shadow>
                    </value>
                    <value name="type">
                        <shadow type="builder_type" editable="false"></shadow>
                    </value>
                    <value name="align">
                        <shadow type="builder_value_alignment" editable="false">
                            <field name="align">LEFT</field>
                        </shadow>
                    </value>
                </block>
                <block type="builder_connections_output">
                    <value name="type">
                        <shadow type="builder_type" editable="false"></shadow>
                    </value>
                </block>
                <block type="builder_connections_preceding">
                    <value name="type">
                        <shadow type="builder_type" editable="false"></shadow>
                    </value>
                </block>
                <block type="builder_connections_succeeding">
                    <value name="type">
                        <shadow type="builder_type" editable="false"></shadow>
                    </value>
                </block>
                <block type="builder_connections_both">
                    <value name="preceding">
                        <shadow type="builder_type" editable="false"></shadow>
                    </value>
                    <value name="succeeding">
                        <shadow type="builder_type" editable="false"></shadow>
                    </value>
                </block>
            </category>
            <category name="Values">
                <block type="builder_value_text"></block>
                <block type="builder_value_inputs">
                    <field name="style">AUTO</field>
                </block>
                <block type="builder_value_inputs">
                    <field name="style">external</field>
                </block>
                <block type="builder_value_inputs">
                    <field name="style">internal</field>
                </block>
                <block type="builder_value_alignment">
                    <field name="align">LEFT</field>
                </block>
                <block type="builder_value_alignment">
                    <field name="align">CENTRE</field>
                </block>
                <block type="builder_value_alignment">
                    <field name="align">RIGHT</field>
                </block>
                <block type="builder_value_hue">

                </block>
            </category>
            <category name="Types" custom="TYPES"></category>
        </xml>

        <xml id="preview-toolbox"></xml>

        <div id="editor"></div>
        <div id="preview"></div>
        <div id="code">
            <div id="code-info">Loading...</div>
            <div id="code-box">That's a big arse!</div>
        </div>
    </body>
</html>